import{c as W,d as re,R as D,g as kt,r as g,j as e,b as Bt,e as Ct,B as S,C as pe,f as Kt,u as Wt,D as Ke,h as Se,i as Ae,E as Ut}from"./index-C4ijDJHY.js";import{C as at,r as Vt,h as qt}from"./placeholders-DmpdoT2B.js";import{f as G,r as St,d as Ht,e as At,g as Gt,i as ie,h as et,p as te,j as ee,k as _t,l as tt,m as Pt,D as Yt,n as Zt,o as be,q as me,S as Xt,A as Jt,s as Qt,t as lt,u as es,v as ue,w as ts,x as ss,G as rs,y as Pe,z as as,B as Ot,E as ls,F as _e,H as nt,I as ns,J as is,C as it,R as ct,L as cs,a as ds,X as os,Y as xs,T as dt,K as ms,c as ot}from"./LineChart-BPv3GEBS.js";import{X as Y,G as us,T as hs}from"./x-BYLQLYzy.js";import{C as gs,P as We}from"./play-chIzS5U0.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],He=W("activity",ps);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ys=W("calendar",bs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ye=W("chevron-up",fs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ae=W("circle-check",js);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],de=W("circle-x",vs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oe=W("database",Ns);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ge=W("download",ws);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Re=W("file-text",ks);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Ss=W("hard-drive",Cs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_s=W("info",As);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Tt=W("key",Ps);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ts=W("layout-grid",Os);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Es=W("layout-list",Rs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Rt=W("pen",Ds);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$s=W("plus",zs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Et=W("power",Ls);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],oe=W("search",Ms);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ce=W("settings",Is);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ue=W("trending-up",Fs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ks=W("upload",Bs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Us=W("user-plus",Ws);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ye=W("users",Vs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Hs=W("wifi",qs);var Gs=["points","className","baseLinePoints","connectNulls"];function he(){return he=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},he.apply(this,arguments)}function Ys(r,t){if(r==null)return{};var a=Zs(r,t),s,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(a[s]=r[s])}return a}function Zs(r,t){if(r==null)return{};var a={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;a[s]=r[s]}return a}function xt(r){return er(r)||Qs(r)||Js(r)||Xs()}function Xs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Js(r,t){if(r){if(typeof r=="string")return Ze(r,t);var a=Object.prototype.toString.call(r).slice(8,-1);if(a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set")return Array.from(r);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ze(r,t)}}function Qs(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function er(r){if(Array.isArray(r))return Ze(r)}function Ze(r,t){(t==null||t>r.length)&&(t=r.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=r[a];return s}var mt=function(t){return t&&t.x===+t.x&&t.y===+t.y},tr=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(function(s){mt(s)?a[a.length-1].push(s):a[a.length-1].length>0&&a.push([])}),mt(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},we=function(t,a){var s=tr(t);a&&(s=[s.reduce(function(i,n){return[].concat(xt(i),xt(n))},[])]);var l=s.map(function(i){return i.reduce(function(n,p,h){return"".concat(n).concat(h===0?"M":"L").concat(p.x,",").concat(p.y)},"")}).join("");return s.length===1?"".concat(l,"Z"):l},sr=function(t,a,s){var l=we(t,s);return"".concat(l.slice(-1)==="Z"?l.slice(0,-1):l,"L").concat(we(a.reverse(),s).slice(1))},rr=function(t){var a=t.points,s=t.className,l=t.baseLinePoints,i=t.connectNulls,n=Ys(t,Gs);if(!a||!a.length)return null;var p=re("recharts-polygon",s);if(l&&l.length){var h=n.stroke&&n.stroke!=="none",u=sr(a,l,i);return D.createElement("g",{className:p},D.createElement("path",he({},G(n,!0),{fill:u.slice(-1)==="Z"?n.fill:"none",stroke:"none",d:u})),h?D.createElement("path",he({},G(n,!0),{fill:"none",d:we(a,i)})):null,h?D.createElement("path",he({},G(n,!0),{fill:"none",d:we(l,i)})):null)}var b=we(a,i);return D.createElement("path",he({},G(n,!0),{fill:b.slice(-1)==="Z"?n.fill:"none",className:p,d:b}))},Ve,ut;function ar(){if(ut)return Ve;ut=1;var r=St(),t=Ht(),a=At();function s(l,i){return l&&l.length?r(l,a(i,2),t):void 0}return Ve=s,Ve}var lr=ar();const nr=kt(lr);var qe,ht;function ir(){if(ht)return qe;ht=1;var r=St(),t=At(),a=Gt();function s(l,i){return l&&l.length?r(l,t(i,2),a):void 0}return qe=s,qe}var cr=ir();const dr=kt(cr);var or=["cx","cy","angle","ticks","axisLine"],xr=["ticks","tick","angle","tickFormatter","stroke"];function fe(r){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(r)}function ke(){return ke=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},ke.apply(this,arguments)}function gt(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),a.push.apply(a,s)}return a}function le(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gt(Object(a),!0).forEach(function(s){$e(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function pt(r,t){if(r==null)return{};var a=mr(r,t),s,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(a[s]=r[s])}return a}function mr(r,t){if(r==null)return{};var a={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;a[s]=r[s]}return a}function ur(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(r,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,zt(s.key),s)}}function hr(r,t,a){return t&&bt(r.prototype,t),a&&bt(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function gr(r,t,a){return t=Ee(t),pr(r,Dt()?Reflect.construct(t,a||[],Ee(r).constructor):t.apply(r,a))}function pr(r,t){if(t&&(fe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return br(r)}function br(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Dt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dt=function(){return!!r})()}function Ee(r){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ee(r)}function yr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Xe(r,t)}function Xe(r,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},Xe(r,t)}function $e(r,t,a){return t=zt(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function zt(r){var t=fr(r,"string");return fe(t)=="symbol"?t:t+""}function fr(r,t){if(fe(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(fe(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Le=(function(r){function t(){return ur(this,t),gr(this,t,arguments)}return yr(t,r),hr(t,[{key:"getTickValueCoord",value:function(s){var l=s.coordinate,i=this.props,n=i.angle,p=i.cx,h=i.cy;return te(p,h,l,n)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,l;switch(s){case"left":l="end";break;case"right":l="start";break;default:l="middle";break}return l}},{key:"getViewBox",value:function(){var s=this.props,l=s.cx,i=s.cy,n=s.angle,p=s.ticks,h=nr(p,function(b){return b.coordinate||0}),u=dr(p,function(b){return b.coordinate||0});return{cx:l,cy:i,startAngle:n,endAngle:n,innerRadius:u.coordinate||0,outerRadius:h.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,l=s.cx,i=s.cy,n=s.angle,p=s.ticks,h=s.axisLine,u=pt(s,or),b=p.reduce(function(A,v){return[Math.min(A[0],v.coordinate),Math.max(A[1],v.coordinate)]},[1/0,-1/0]),f=te(l,i,b[0],n),T=te(l,i,b[1],n),$=le(le(le({},G(u,!1)),{},{fill:"none"},G(h,!1)),{},{x1:f.x,y1:f.y,x2:T.x,y2:T.y});return D.createElement("line",ke({className:"recharts-polar-radius-axis-line"},$))}},{key:"renderTicks",value:function(){var s=this,l=this.props,i=l.ticks,n=l.tick,p=l.angle,h=l.tickFormatter,u=l.stroke,b=pt(l,xr),f=this.getTickTextAnchor(),T=G(b,!1),$=G(n,!1),A=i.map(function(v,N){var w=s.getTickValueCoord(v),R=le(le(le(le({textAnchor:f,transform:"rotate(".concat(90-p,", ").concat(w.x,", ").concat(w.y,")")},T),{},{stroke:"none",fill:u},$),{},{index:N},w),{},{payload:v});return D.createElement(ee,ke({className:re("recharts-polar-radius-axis-tick",_t(n)),key:"tick-".concat(v.coordinate)},tt(s.props,v,N)),t.renderTickItem(n,R,h?h(v.value,N):v.value))});return D.createElement(ee,{className:"recharts-polar-radius-axis-ticks"},A)}},{key:"render",value:function(){var s=this.props,l=s.ticks,i=s.axisLine,n=s.tick;return!l||!l.length?null:D.createElement(ee,{className:re("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),n&&this.renderTicks(),Pt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,l,i){var n;return D.isValidElement(s)?n=D.cloneElement(s,l):ie(s)?n=s(l):n=D.createElement(et,ke({},l,{className:"recharts-polar-radius-axis-tick-value"}),i),n}}])})(g.PureComponent);$e(Le,"displayName","PolarRadiusAxis");$e(Le,"axisType","radiusAxis");$e(Le,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function je(r){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(r)}function ce(){return ce=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},ce.apply(this,arguments)}function yt(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),a.push.apply(a,s)}return a}function ne(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(a),!0).forEach(function(s){Me(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function jr(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(r,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,Lt(s.key),s)}}function vr(r,t,a){return t&&ft(r.prototype,t),a&&ft(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function Nr(r,t,a){return t=De(t),wr(r,$t()?Reflect.construct(t,a||[],De(r).constructor):t.apply(r,a))}function wr(r,t){if(t&&(je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(r)}function kr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($t=function(){return!!r})()}function De(r){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},De(r)}function Cr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Je(r,t)}function Je(r,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},Je(r,t)}function Me(r,t,a){return t=Lt(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function Lt(r){var t=Sr(r,"string");return je(t)=="symbol"?t:t+""}function Sr(r,t){if(je(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(je(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Ar=Math.PI/180,jt=1e-5,Ie=(function(r){function t(){return jr(this,t),Nr(this,t,arguments)}return Cr(t,r),vr(t,[{key:"getTickLineCoord",value:function(s){var l=this.props,i=l.cx,n=l.cy,p=l.radius,h=l.orientation,u=l.tickSize,b=u||8,f=te(i,n,p,s.coordinate),T=te(i,n,p+(h==="inner"?-1:1)*b,s.coordinate);return{x1:f.x,y1:f.y,x2:T.x,y2:T.y}}},{key:"getTickTextAnchor",value:function(s){var l=this.props.orientation,i=Math.cos(-s.coordinate*Ar),n;return i>jt?n=l==="outer"?"start":"end":i<-jt?n=l==="outer"?"end":"start":n="middle",n}},{key:"renderAxisLine",value:function(){var s=this.props,l=s.cx,i=s.cy,n=s.radius,p=s.axisLine,h=s.axisLineType,u=ne(ne({},G(this.props,!1)),{},{fill:"none"},G(p,!1));if(h==="circle")return D.createElement(Yt,ce({className:"recharts-polar-angle-axis-line"},u,{cx:l,cy:i,r:n}));var b=this.props.ticks,f=b.map(function(T){return te(l,i,n,T.coordinate)});return D.createElement(rr,ce({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,l=this.props,i=l.ticks,n=l.tick,p=l.tickLine,h=l.tickFormatter,u=l.stroke,b=G(this.props,!1),f=G(n,!1),T=ne(ne({},b),{},{fill:"none"},G(p,!1)),$=i.map(function(A,v){var N=s.getTickLineCoord(A),w=s.getTickTextAnchor(A),R=ne(ne(ne({textAnchor:w},b),{},{stroke:"none",fill:u},f),{},{index:v,payload:A,x:N.x2,y:N.y2});return D.createElement(ee,ce({className:re("recharts-polar-angle-axis-tick",_t(n)),key:"tick-".concat(A.coordinate)},tt(s.props,A,v)),p&&D.createElement("line",ce({className:"recharts-polar-angle-axis-tick-line"},T,N)),n&&t.renderTickItem(n,R,h?h(A.value,v):A.value))});return D.createElement(ee,{className:"recharts-polar-angle-axis-ticks"},$)}},{key:"render",value:function(){var s=this.props,l=s.ticks,i=s.radius,n=s.axisLine;return i<=0||!l||!l.length?null:D.createElement(ee,{className:re("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,l,i){var n;return D.isValidElement(s)?n=D.cloneElement(s,l):ie(s)?n=s(l):n=D.createElement(et,ce({},l,{className:"recharts-polar-angle-axis-tick-value"}),i),n}}])})(g.PureComponent);Me(Ie,"displayName","PolarAngleAxis");Me(Ie,"axisType","angleAxis");Me(Ie,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Te;function ve(r){"@babel/helpers - typeof";return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(r)}function ge(){return ge=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},ge.apply(this,arguments)}function vt(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),a.push.apply(a,s)}return a}function K(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vt(Object(a),!0).forEach(function(s){Q(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function _r(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(r,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,It(s.key),s)}}function Pr(r,t,a){return t&&Nt(r.prototype,t),a&&Nt(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function Or(r,t,a){return t=ze(t),Tr(r,Mt()?Reflect.construct(t,a||[],ze(r).constructor):t.apply(r,a))}function Tr(r,t){if(t&&(ve(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(r)}function Rr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Mt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mt=function(){return!!r})()}function ze(r){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ze(r)}function Er(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Qe(r,t)}function Qe(r,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},Qe(r,t)}function Q(r,t,a){return t=It(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function It(r){var t=Dr(r,"string");return ve(t)=="symbol"?t:t+""}function Dr(r,t){if(ve(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(ve(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var se=(function(r){function t(a){var s;return _r(this,t),s=Or(this,t,[a]),Q(s,"pieRef",null),Q(s,"sectorRefs",[]),Q(s,"id",ss("recharts-pie-")),Q(s,"handleAnimationEnd",function(){var l=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ie(l)&&l()}),Q(s,"handleAnimationStart",function(){var l=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ie(l)&&l()}),s.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},s}return Er(t,r),Pr(t,[{key:"isActiveIndex",value:function(s){var l=this.props.activeIndex;return Array.isArray(l)?l.indexOf(s)!==-1:s===l}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var i=this.props,n=i.label,p=i.labelLine,h=i.dataKey,u=i.valueKey,b=G(this.props,!1),f=G(n,!1),T=G(p,!1),$=n&&n.offsetRadius||20,A=s.map(function(v,N){var w=(v.startAngle+v.endAngle)/2,R=te(v.cx,v.cy,v.outerRadius+$,w),z=K(K(K(K({},b),v),{},{stroke:"none"},f),{},{index:N,textAnchor:t.getTextAnchor(R.x,v.cx)},R),x=K(K(K(K({},b),v),{},{fill:"none",stroke:v.fill},T),{},{index:N,points:[te(v.cx,v.cy,v.outerRadius,w),R]}),o=h;return be(h)&&be(u)?o="value":be(h)&&(o=u),D.createElement(ee,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},p&&t.renderLabelLineItem(p,x,"line"),t.renderLabelItem(n,z,me(v,o)))});return D.createElement(ee,{className:"recharts-pie-labels"},A)}},{key:"renderSectorsStatically",value:function(s){var l=this,i=this.props,n=i.activeShape,p=i.blendStroke,h=i.inactiveShape;return s.map(function(u,b){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=l.isActiveIndex(b),T=h&&l.hasActiveIndex()?h:null,$=f?n:T,A=K(K({},u),{},{stroke:p?u.fill:u.stroke,tabIndex:-1});return D.createElement(ee,ge({ref:function(N){N&&!l.sectorRefs.includes(N)&&l.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},tt(l.props,u,b),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(b)}),D.createElement(Xt,ge({option:$,isActive:f,shapeType:"sector"},A)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,l=this.props,i=l.sectors,n=l.isAnimationActive,p=l.animationBegin,h=l.animationDuration,u=l.animationEasing,b=l.animationId,f=this.state,T=f.prevSectors,$=f.prevIsAnimationActive;return D.createElement(Jt,{begin:p,duration:h,isActive:n,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(b,"-").concat($),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(A){var v=A.t,N=[],w=i&&i[0],R=w.startAngle;return i.forEach(function(z,x){var o=T&&T[x],_=x>0?Qt(z,"paddingAngle",0):0;if(o){var L=lt(o.endAngle-o.startAngle,z.endAngle-z.startAngle),I=K(K({},z),{},{startAngle:R+_,endAngle:R+L(v)+_});N.push(I),R=I.endAngle}else{var P=z.endAngle,H=z.startAngle,Z=lt(0,P-H),B=Z(v),k=K(K({},z),{},{startAngle:R+_,endAngle:R+B+_});N.push(k),R=k.endAngle}}),D.createElement(ee,null,s.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(s){var l=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var n=++l.state.sectorToFocus%l.sectorRefs.length;l.sectorRefs[n].focus(),l.setState({sectorToFocus:n});break}case"ArrowRight":{var p=--l.state.sectorToFocus<0?l.sectorRefs.length-1:l.state.sectorToFocus%l.sectorRefs.length;l.sectorRefs[p].focus(),l.setState({sectorToFocus:p});break}case"Escape":{l.sectorRefs[l.state.sectorToFocus].blur(),l.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,l=s.sectors,i=s.isAnimationActive,n=this.state.prevSectors;return i&&l&&l.length&&(!n||!es(n,l))?this.renderSectorsWithAnimation():this.renderSectorsStatically(l)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,l=this.props,i=l.hide,n=l.sectors,p=l.className,h=l.label,u=l.cx,b=l.cy,f=l.innerRadius,T=l.outerRadius,$=l.isAnimationActive,A=this.state.isAnimationFinished;if(i||!n||!n.length||!ue(u)||!ue(b)||!ue(f)||!ue(T))return null;var v=re("recharts-pie",p);return D.createElement(ee,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){s.pieRef=w}},this.renderSectors(),h&&this.renderLabels(n),Pt.renderCallByParent(this.props,null,!1),(!$||A)&&ts.renderCallByParent(this.props,n,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return l.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==l.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:l.curSectors,isAnimationFinished:!0}:s.sectors!==l.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,l){return s>l?"start":s<l?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,l,i){if(D.isValidElement(s))return D.cloneElement(s,l);if(ie(s))return s(l);var n=re("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return D.createElement(Zt,ge({},l,{key:i,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(s,l,i){if(D.isValidElement(s))return D.cloneElement(s,l);var n=i;if(ie(s)&&(n=s(l),D.isValidElement(n)))return n;var p=re("recharts-pie-label-text",typeof s!="boolean"&&!ie(s)?s.className:"");return D.createElement(et,ge({},l,{alignmentBaseline:"middle",className:p}),n)}}])})(g.PureComponent);Te=se;Q(se,"displayName","Pie");Q(se,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!rs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Q(se,"parseDeltaAngle",function(r,t){var a=Pe(t-r),s=Math.min(Math.abs(t-r),360);return a*s});Q(se,"getRealPieData",function(r){var t=r.data,a=r.children,s=G(r,!1),l=as(a,Ot);return t&&t.length?t.map(function(i,n){return K(K(K({payload:i},s),i),l&&l[n]&&l[n].props)}):l&&l.length?l.map(function(i){return K(K({},s),i.props)}):[]});Q(se,"parseCoordinateOfPie",function(r,t){var a=t.top,s=t.left,l=t.width,i=t.height,n=ls(l,i),p=s+_e(r.cx,l,l/2),h=a+_e(r.cy,i,i/2),u=_e(r.innerRadius,n,0),b=_e(r.outerRadius,n,n*.8),f=r.maxRadius||Math.sqrt(l*l+i*i)/2;return{cx:p,cy:h,innerRadius:u,outerRadius:b,maxRadius:f}});Q(se,"getComposedData",function(r){var t=r.item,a=r.offset,s=t.type.defaultProps!==void 0?K(K({},t.type.defaultProps),t.props):t.props,l=Te.getRealPieData(s);if(!l||!l.length)return null;var i=s.cornerRadius,n=s.startAngle,p=s.endAngle,h=s.paddingAngle,u=s.dataKey,b=s.nameKey,f=s.valueKey,T=s.tooltipType,$=Math.abs(s.minAngle),A=Te.parseCoordinateOfPie(s,a),v=Te.parseDeltaAngle(n,p),N=Math.abs(v),w=u;be(u)&&be(f)?(nt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):be(u)&&(nt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var R=l.filter(function(I){return me(I,w,0)!==0}).length,z=(N>=360?R:R-1)*h,x=N-R*$-z,o=l.reduce(function(I,P){var H=me(P,w,0);return I+(ue(H)?H:0)},0),_;if(o>0){var L;_=l.map(function(I,P){var H=me(I,w,0),Z=me(I,b,P),B=(ue(H)?H:0)/o,k;P?k=L.endAngle+Pe(v)*h*(H!==0?1:0):k=n;var d=k+Pe(v)*((H!==0?$:0)+B*x),y=(k+d)/2,O=(A.innerRadius+A.outerRadius)/2,q=[{name:Z,value:H,payload:I,dataKey:w,type:T}],M=te(A.cx,A.cy,O,y);return L=K(K(K({percent:B,cornerRadius:i,name:Z,tooltipPayload:q,midAngle:y,middleRadius:O,tooltipPosition:M},I),A),{},{value:me(I,w),startAngle:k,endAngle:d,payload:I,paddingAngle:Pe(v)*h}),L})}return K(K({},A),{},{sectors:_,data:l})});var zr=ns({chartName:"PieChart",GraphicalChild:se,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ie},{axisType:"radiusAxis",AxisComp:Le}],formatAxisMap:is,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Fe({startDate:r,endDate:t,onStartDateChange:a,onEndDateChange:s}){const[l,i]=g.useState(!1),[n,p]=g.useState(new Date().getMonth()),[h,u]=g.useState(new Date().getFullYear()),[b,f]=g.useState(new Date().getMonth()),[T,$]=g.useState(new Date().getFullYear()),[A,v]=g.useState({}),N=g.useRef(null),w=g.useRef(null);g.useEffect(()=>{const d=y=>{N.current&&!N.current.contains(y.target)&&i(!1)};return l&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[l]),g.useEffect(()=>{if(l&&N.current&&w.current){const d=()=>{if(!N.current||!w.current)return;const O=N.current.getBoundingClientRect(),q=w.current.offsetWidth,M=w.current.offsetHeight,F=window.innerWidth,U=window.innerHeight;let c=O.bottom+8;const E=U-O.bottom,m=O.top;E<M+16&&m>M+16&&(c=O.top-M-8);let C=F-O.right,V;O.right-q<16&&(V=Math.max(16,O.left),C=void 0);const X=Math.min(600,U-c-16);v({top:c,right:C!==void 0?C:void 0,left:V,maxHeight:`${X}px`})},y=requestAnimationFrame(d);return window.addEventListener("scroll",d,!0),window.addEventListener("resize",d),()=>{cancelAnimationFrame(y),window.removeEventListener("scroll",d,!0),window.removeEventListener("resize",d)}}},[l]);const R=(d,y)=>new Date(d,y+1,0).getDate(),z=(d,y)=>new Date(d,y,1).getDay(),x=(d,y,O)=>{const q=String(y+1).padStart(2,"0"),M=String(O).padStart(2,"0");return`${d}-${q}-${M}`},o=(d,y,O,q)=>{const M=x(d,y,O);return q==="start"?M===r:M===t},_=(d,y,O)=>{if(!r||!t)return!1;const q=x(d,y,O);return q>r&&q<t},L=(d,y,O,q)=>{const M=x(d,y,O);q==="start"?(a(M),t&&M>t&&s("")):(!r||M>=r)&&s(M)},I=(d,y,O)=>{const q=R(d,y),M=z(d,y),F=[];for(let U=0;U<M;U++)F.push(e.jsx("div",{className:"h-8"},`empty-${U}`));for(let U=1;U<=q;U++){const c=o(d,y,U,O),E=_(d,y,U),m=O==="end"&&r&&x(d,y,U)<r;F.push(e.jsx("button",{onClick:()=>!m&&L(d,y,U,O),disabled:m,className:`h-8 flex items-center justify-center text-sm rounded transition-colors ${c?"bg-blue-600 text-white font-medium":E?"bg-blue-100 text-blue-900":m?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:U},U))}return F},P=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],H=Array.from({length:10},(d,y)=>new Date().getFullYear()-5+y),Z=d=>{d==="start"?n===0?(p(11),u(h-1)):p(n-1):b===0?(f(11),$(T-1)):f(b-1)},B=d=>{d==="start"?n===11?(p(0),u(h+1)):p(n+1):b===11?(f(0),$(T+1)):f(b+1)},k=()=>r&&t?`${r} 至 ${t}`:r?`从 ${r}`:t?`至 ${t}`:"选择日期范围";return e.jsxs("div",{ref:N,className:"relative",children:[e.jsxs("button",{onClick:()=>i(!l),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white hover:bg-gray-50 flex items-center gap-2 text-left",children:[e.jsx(ys,{size:16,className:"text-gray-400 flex-shrink-0"}),e.jsx("span",{className:r||t?"text-gray-900":"text-gray-400",children:k()})]}),l&&e.jsxs("div",{ref:w,className:"fixed bg-white border border-gray-200 rounded-lg shadow-lg z-50 p-4 overflow-y-auto",style:A,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"开始日期"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("select",{value:h,onChange:d=>u(Number(d.target.value)),className:"flex-1 px-2 py-1 border border-gray-200 rounded text-sm bg-white",children:H.map(d=>e.jsxs("option",{value:d,children:[d,"年"]},d))}),e.jsx("select",{value:n,onChange:d=>p(Number(d.target.value)),className:"flex-1 px-2 py-1 border border-gray-200 rounded text-sm bg-white",children:P.map((d,y)=>e.jsx("option",{value:y,children:d},y))})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("button",{onClick:()=>Z("start"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(at,{size:16})}),e.jsxs("span",{className:"text-sm font-medium",children:[h,"年 ",P[n]]}),e.jsx("button",{onClick:()=>B("start"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(it,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["日","一","二","三","四","五","六"].map(d=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500 font-medium",children:d},d)),I(h,n,"start")]})]}),e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"结束日期"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("select",{value:T,onChange:d=>$(Number(d.target.value)),className:"flex-1 px-2 py-1 border border-gray-200 rounded text-sm bg-white",children:H.map(d=>e.jsxs("option",{value:d,children:[d,"年"]},d))}),e.jsx("select",{value:b,onChange:d=>f(Number(d.target.value)),className:"flex-1 px-2 py-1 border border-gray-200 rounded text-sm bg-white",children:P.map((d,y)=>e.jsx("option",{value:y,children:d},y))})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("button",{onClick:()=>Z("end"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(at,{size:16})}),e.jsxs("span",{className:"text-sm font-medium",children:[T,"年 ",P[b]]}),e.jsx("button",{onClick:()=>B("end"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(it,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["日","一","二","三","四","五","六"].map(d=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500 font-medium",children:d},d)),I(T,b,"end")]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const d=new Date,y=new Date(d);y.setDate(y.getDate()-7),a(x(y.getFullYear(),y.getMonth(),y.getDate())),s(x(d.getFullYear(),d.getMonth(),d.getDate()))},className:"px-3 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded",children:"最近7天"}),e.jsx("button",{onClick:()=>{const d=new Date,y=new Date(d);y.setDate(y.getDate()-30),a(x(y.getFullYear(),y.getMonth(),y.getDate())),s(x(d.getFullYear(),d.getMonth(),d.getDate()))},className:"px-3 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded",children:"最近30天"})]}),e.jsx("button",{onClick:()=>{a(""),s(""),i(!1)},className:"px-3 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded",children:"清除"})]})]})]})}function $r({user:r,onLogout:t}){const[a,s]=g.useState(!0),[l,i]=g.useState("list"),[n,p]=g.useState(!1),[h,u]=g.useState("filtered"),[b,f]=g.useState("json"),[T,$]=g.useState(""),[A,v]=g.useState(""),[N,w]=g.useState(!1),[R,z]=g.useState(null),[x,o]=g.useState(null),[_,L]=g.useState(""),[I,P]=g.useState(""),[H,Z]=g.useState(!1),[B,k]=g.useState(!0),[d,y]=g.useState(!0),[O,q]=g.useState(1),{clips:M,assignments:F,assignClip:U,getClipReview:c,disableClip:E}=Bt(),{accounts:m}=Ct(),C=m.filter(j=>j.roles.includes("reviewer")),V=j=>({Pending:"bg-yellow-100 text-yellow-700",Assigned:"bg-blue-100 text-blue-700",Finished:"bg-green-100 text-green-700",Invalid:"bg-red-100 text-red-700",Disabled:"bg-gray-100 text-gray-500"})[j]||"bg-gray-100 text-gray-500",X=j=>({Pending:"待标注",Assigned:"已分配",Finished:"已完成",Invalid:"无效数据",Disabled:"已禁用"})[j]||j;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-0.5",children:"数据管理"}),e.jsx("p",{className:"text-xs text-gray-500",children:"集中管理与维护平台数据资产"})]}),e.jsxs(S,{className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-1.5 px-3 py-1.5 text-sm",onClick:()=>p(!0),children:[e.jsx(Ge,{size:16}),"导出数据"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 hover:text-blue-600",children:[a?e.jsx(ye,{size:16}):e.jsx(pe,{size:16}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"筛选条件"})]}),e.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"重置条件"})]}),a&&e.jsxs("div",{className:"px-3 py-3 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"采集用户"}),e.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 rounded text-xs bg-white",children:[e.jsx("option",{children:"全部用户"}),e.jsx("option",{children:"张研究员"}),e.jsx("option",{children:"王工程师"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"标注用户"}),e.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 rounded text-xs bg-white",children:[e.jsx("option",{children:"全部用户"}),e.jsx("option",{children:"李标注员"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"时间范围"}),e.jsx(Fe,{startDate:T,endDate:A,onStartDateChange:$,onEndDateChange:v})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"机械臂"}),e.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 rounded text-xs bg-white",children:[e.jsx("option",{children:"全部设备"}),e.jsx("option",{children:"FRANKA-01"}),e.jsx("option",{children:"UR5-02"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"控制设备"}),e.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 rounded text-xs bg-white",children:[e.jsx("option",{children:"全部设备"}),e.jsx("option",{children:"GELLO-01"}),e.jsx("option",{children:"3DMouse-01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"数据状态"}),e.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 rounded text-xs bg-white",children:[e.jsx("option",{children:"全部状态"}),e.jsx("option",{children:"待标注"}),e.jsx("option",{children:"已分配"}),e.jsx("option",{children:"已完成"}),e.jsx("option",{children:"无效数据"}),e.jsx("option",{children:"已禁用"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"搜索Clip ID、描述或关键字...",className:"w-full pl-8 pr-3 py-1.5 border border-gray-200 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs(S,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-1.5 py-1.5 text-xs",children:[e.jsx(Lr,{size:14}),"应用筛选"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Clip 数据列表"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[e.jsx("span",{children:"每页显示："}),e.jsxs("select",{className:"px-2 py-0.5 border border-gray-200 rounded text-xs",children:[e.jsx("option",{children:"20条"}),e.jsx("option",{children:"50条"}),e.jsx("option",{children:"100条"})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5 border border-gray-200 rounded p-0.5",children:[e.jsx("button",{onClick:()=>i("list"),className:`p-1 rounded ${l==="list"?"bg-gray-100":""}`,children:e.jsx(Es,{size:14})}),e.jsx("button",{onClick:()=>i("grid"),className:`p-1 rounded ${l==="grid"?"bg-gray-100":""}`,children:e.jsx(Ts,{size:14})})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"Clip ID"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"描述"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"采集用户"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"设备"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"时长"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"帧数"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"采集时间"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"分配给的标注员"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"状态"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map(j=>{var J;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-xs font-medium text-gray-900",children:j.id}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700 max-w-xs truncate",children:j.description}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:j.collector}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:j.device}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:j.duration}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:j.frames}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:j.time}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-700",children:F[j.id]?((J=C.find(xe=>xe.username===F[j.id]))==null?void 0:J.name)||F[j.id]:"-"}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${V(j.status)}`,children:X(j.status)})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("button",{onClick:()=>{o(j),w(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 border border-gray-300 rounded",children:[e.jsx(Ce,{size:14}),"管理"]})})]},j.id)})})]})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["显示第 1 到 ",M.length," 条，共 ",M.length," 条记录"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"上一页"}),e.jsx("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"3"}),e.jsx("span",{className:"px-2 text-gray-400",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"30"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded",children:"下一页"})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"数据导出"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"请选择导出数据格式，导出对象不会影响系统数据"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"导出范围"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportDataRange",checked:h==="all",onChange:()=>u("all"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"全部数据（包含历史数据）"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportDataRange",checked:h==="selected",onChange:()=>u("selected"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"选中数据"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportDataRange",checked:h==="filtered",onChange:()=>u("filtered"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"符合筛选条件的全部数据"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"导出格式"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>f("json"),className:`p-4 rounded-lg border-2 transition-colors ${b==="json"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Oe,{size:24,className:b==="json"?"text-blue-600 mx-auto mb-2":"text-gray-400 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:"JSON"})]}),e.jsxs("button",{onClick:()=>f("csv"),className:`p-4 rounded-lg border-2 transition-colors ${b==="csv"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Re,{size:24,className:b==="csv"?"text-blue-600 mx-auto mb-2":"text-gray-400 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:"CSV"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:()=>p(!1),className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:()=>{alert(`导出${h==="all"?"全部":h==="selected"?"选中":"筛选"}数据为${b.toUpperCase()}格式`),p(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"开始导出"})]})]})}),N&&x&&!R&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Clip 管理"}),e.jsx("button",{onClick:()=>{w(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Clip ID"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.id}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:x.description}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${V(x.status)}`,children:X(x.status)})})]}),x.status==="Invalid"&&(()=>{var xe,st,rt;const j=c(x.id);if(!j)return null;const J=[];return(xe=j.errorTags)!=null&&xe.length&&J.push(...j.errorTags),(st=j.reviewComment)!=null&&st.trim()&&J.push(j.reviewComment),J.length===0&&J.push("标注员标记为无效"),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"无效原因"}),e.jsx("ul",{className:"text-xs text-red-700 space-y-1 list-disc list-inside",children:J.map((Be,Ft)=>e.jsx("li",{children:Be},Ft))}),j.reviewedBy&&e.jsxs("div",{className:"text-xs text-red-600 mt-2",children:["标注员: ",((rt=C.find(Be=>Be.username===j.reviewedBy))==null?void 0:rt.name)||j.reviewedBy]})]})})(),e.jsx("p",{className:"text-sm text-gray-600",children:"请选择要执行的操作："}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>{w(!1),Z(!0)},className:"w-full p-4 text-left border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"浏览Clip详情"}),e.jsx("div",{className:"text-sm text-gray-500",children:"查看此Clip的详细回放信息和姿态数据"})]}),e.jsxs("button",{onClick:()=>z("assign"),className:"w-full p-4 text-left border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"分配标注任务"}),e.jsx("div",{className:"text-sm text-gray-500",children:"将此Clip分配给标注员进行标注"})]}),e.jsxs("button",{onClick:()=>z("disable"),className:"w-full p-4 text-left border-2 border-gray-200 rounded-lg hover:border-red-500 hover:bg-red-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"禁用Clip数据"}),e.jsx("div",{className:"text-sm text-gray-500",children:"禁用后该Clip将无法被标注和使用"})]})]})]}),e.jsx("div",{className:"flex justify-end p-5 border-t border-gray-200",children:e.jsx(S,{onClick:()=>{w(!1),o(null)},className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"})})]})}),N&&x&&R==="assign"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"分配标注任务"}),e.jsx("button",{onClick:()=>{w(!1),o(null),z(null),L(""),P("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Clip ID"}),e.jsx("div",{className:"bg-gray-50 rounded-lg px-3 py-2 text-sm text-gray-900",children:x.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"选择标注员（操作员）"}),C.length===0?e.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"暂无可分配的标注员，请先在账户与权限管理中创建具有「标注员」角色的用户"}):e.jsx("div",{className:"space-y-2",children:C.map(j=>e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"reviewer",value:j.username,checked:_===j.username,onChange:J=>L(J.target.value),className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[j.name||j.username," (",j.username,")"]})]},j.username))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"备注（可选）"}),e.jsx("input",{type:"text",value:I,onChange:j=>P(j.target.value),placeholder:"请输入备注信息...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:()=>{z(null),L(""),P("")},className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"返回"}),e.jsx(S,{onClick:()=>{var J;if(!_){alert("请选择标注员");return}U(x.id,_);const j=((J=C.find(xe=>xe.username===_))==null?void 0:J.name)||_;alert(`已将Clip ${x.id} 分配给 ${j}${I?`
备注：${I}`:""}`),w(!1),o(null),z(null),L(""),P("")},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"确认分配"})]})]})}),N&&x&&R==="disable"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"禁用Clip确认"}),e.jsx("button",{onClick:()=>{w(!1),o(null),z(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(Kt,{className:"text-red-600",size:24})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"您确定要禁用此Clip吗？"}),e.jsx("p",{className:"text-sm text-gray-500",children:"禁用后该Clip将无法被标注和使用"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Clip ID"}),e.jsx("div",{className:"font-mono text-sm text-gray-900",children:x.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"描述"}),e.jsx("div",{className:"text-sm text-gray-700",children:x.description})]})]})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:()=>{z(null)},className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:()=>{E(x.id),w(!1),o(null),z(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"确认禁用"})]})]})}),H&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[92vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex items-center justify-between shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[x.id," - 详细信息"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.description})]}),e.jsx("button",{onClick:()=>{Z(!1),o(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 bg-gray-50 min-h-0",children:[e.jsxs("div",{className:"flex justify-end gap-2 mb-3 shrink-0",children:[e.jsxs(S,{onClick:()=>k(!B),className:`flex items-center gap-2 px-3 py-1.5 font-medium rounded-lg transition-all text-xs ${B?"bg-blue-600 text-white hover:bg-blue-700 shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(gs,{size:14}),e.jsx("span",{children:"机械臂姿态"}),B?e.jsx(ye,{size:14}):e.jsx(pe,{size:14})]}),e.jsxs(S,{onClick:()=>y(!d),className:`flex items-center gap-2 px-3 py-1.5 font-medium rounded-lg transition-all text-xs ${d?"bg-green-600 text-white hover:bg-green-700 shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(us,{size:14}),e.jsx("span",{children:"控制器姿态"}),d?e.jsx(ye,{size:14}):e.jsx(pe,{size:14})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",style:{height:B||d?"calc((92vh - 180px) * 0.5)":"calc(92vh - 180px)"},children:[e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:Vt,alt:"Clip回放",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 bg-black/50 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-xs font-medium",children:[e.jsx(We,{size:12}),e.jsx("span",{children:"主摄像头"})]}),e.jsx("div",{className:"bg-black/50 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-xs",children:x.duration})]})})]}),e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:qt,alt:"手部姿态",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 bg-black/50 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-xs font-medium",children:[e.jsx(We,{size:12}),e.jsx("span",{children:"手部摄像头"})]}),e.jsx("div",{className:"bg-black/50 backdrop-blur-md text-white px-2.5 py-1 rounded-lg text-xs",children:x.duration})]})})]})]}),(B||d)&&e.jsxs("div",{className:"grid gap-4 transition-all duration-300 grid-cols-2",style:{height:"calc((92vh - 180px) * 0.5 - 16px)"},children:[B&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm overflow-y-auto",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"机械臂实时姿态"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"X轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"-12.3°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Y轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"87.6°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Z轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"-45.1°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Roll"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"120.5°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Pitch"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"-8.2°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Yaw"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"90.0°"})]})]})]}),d&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"GELLOW控制器姿态"}),e.jsx("div",{className:"flex items-center gap-2"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"X轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"+0.02 m"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Y轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"-0.15 m"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Z轴"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"+0.08 m"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Roll"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"15.2°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Pitch"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"-5.7°"})]}),e.jsxs("div",{className:"border border-gray-100 rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Yaw"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"30.0°"})]})]})]})]})]}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs(S,{onClick:()=>{console.log("播放Clip:",x.id)},className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium flex items-center gap-1.5 text-sm",children:[e.jsx(We,{size:14}),"播放"]}),e.jsxs("div",{className:"flex-1 max-w-md flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 relative",style:{overflow:"visible"},children:[e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 rounded-full",style:{width:`${x.frames*.64/x.frames*100}%`}}),e.jsx("button",{onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("跳转到关键帧: 50%")},className:"absolute -top-3 left-1/2 -translate-x-1/2 hover:scale-110 transition-transform cursor-pointer z-10",style:{pointerEvents:"auto"},title:"关键帧",children:e.jsxs("div",{className:"flex flex-col items-center pointer-events-none",children:[e.jsx("div",{className:"w-0 h-0 border-l-[7px] border-r-[7px] border-t-[10px] border-l-transparent border-r-transparent border-t-orange-500 drop-shadow-lg"}),e.jsx("div",{className:"w-1.5 h-2.5 bg-gradient-to-b from-orange-500 to-orange-600 -mt-0.5 drop-shadow-lg rounded-b-sm"})]})})]}),e.jsxs("span",{className:"text-xs text-gray-600 font-medium min-w-[80px]",children:[Math.floor(x.frames*.64)," / ",x.frames," 帧"]}),e.jsxs("select",{value:O,onChange:j=>q(Number(j.target.value)),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white hover:border-blue-400 focus:outline-none focus:border-blue-500 cursor-pointer",children:[e.jsx("option",{value:.25,children:"0.25x"}),e.jsx("option",{value:.5,children:"0.5x"}),e.jsx("option",{value:1,children:"1x"}),e.jsx("option",{value:2,children:"2x"}),e.jsx("option",{value:4,children:"4x"}),e.jsx("option",{value:8,children:"8x"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["录制于 ",x.time]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(S,{onClick:()=>{Z(!1),o(null)},className:"px-4 py-1.5 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 rounded-md text-sm",children:"返回"})})]})]})})]})}function Lr({size:r=18,className:t=""}){return e.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M7 12h10"}),e.jsx("path",{d:"M10 18h4"})]})}const wt={Admin:"admin",Reviewer:"reviewer",Collector:"collector"},Mr={admin:"Admin",reviewer:"Reviewer",collector:"Collector"};function Ir({user:r,onLogout:t}){const{accounts:a,addAccount:s,updateAccount:l}=Ct(),[i,n]=g.useState(""),[p,h]=g.useState(!1),[u,b]=g.useState("all"),[f,T]=g.useState("all"),[$,A]=g.useState("username"),[v,N]=g.useState("asc"),[w,R]=g.useState(""),[z,x]=g.useState(""),[o,_]=g.useState(!0),[L,I]=g.useState(null),[P,H]=g.useState(null),[Z,B]=g.useState(""),[k,d]=g.useState({username:"",fullName:"",roles:[],password:"",confirmPassword:""}),y=g.useMemo(()=>a.map(m=>({id:m.username,username:m.username,fullName:m.name,roles:m.roles.map(C=>Mr[C]),status:"Active",lastLogin:"-",createdAt:"-"})),[a]),O=m=>{const C={Admin:"bg-purple-100 text-purple-700",Reviewer:"bg-blue-100 text-blue-700",Collector:"bg-green-100 text-green-700"},V={Admin:"管理员",Reviewer:"标注员",Collector:"采集员"};return{style:C[m],label:V[m]}},q=m=>m==="Active"?{style:"bg-green-100 text-green-700",label:"启用",icon:ae}:{style:"bg-gray-100 text-gray-500",label:"停用",icon:de},M=(m,C)=>{I(m),C?(H(C),m==="edit"&&d({username:C.username,fullName:C.fullName,roles:C.roles,password:"",confirmPassword:""})):d({username:"",fullName:"",roles:["Collector"],password:"",confirmPassword:""})},F=()=>{I(null),H(null),B(""),d({username:"",fullName:"",roles:["Collector"],password:"",confirmPassword:""})},U=()=>{if(B(""),L==="create"){const m=k.username.trim(),C=k.fullName.trim();if(!m){B("请输入用户名");return}if(!C){B("请输入姓名");return}if(k.roles.length===0){B("请至少选择一个角色");return}if(k.password!==k.confirmPassword){B("两次输入的密码不一致");return}if(a.some(X=>X.username===m)){B("该用户名已存在");return}const V=k.roles.map(X=>wt[X]);s({username:m,password:k.password,name:C,roles:V}),F()}else if(L==="edit"&&P){const m=k.roles.map(C=>wt[C]);if(m.length===0){B("请至少选择一个角色");return}l(P.username,{roles:m,name:k.fullName.trim()}),F()}},c=()=>{P&&(alert(`${L==="disable"?"停用":"启用"}用户：${P.fullName} (${P.username})`),F())},E=()=>{P&&(alert(`重置用户 ${P.fullName} (${P.username}) 的密码`),F())};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"账号与权限管理"}),e.jsx("p",{className:"text-sm text-gray-500",children:"管理系统用户账号及其访问权限"})]}),e.jsxs(S,{onClick:()=>M("create"),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[e.jsx(Us,{size:18}),"创建用户"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e.jsxs("button",{onClick:()=>_(!o),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o?e.jsx(ye,{size:18}):e.jsx(pe,{size:18}),e.jsx("span",{className:"font-medium text-gray-900",children:"筛选条件"})]}),e.jsx("button",{className:"text-sm text-blue-600 hover:underline",children:"重置条件"})]}),o&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"用户角色"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部角色"}),e.jsx("option",{children:"管理员"}),e.jsx("option",{children:"标注员"}),e.jsx("option",{children:"采集员"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"账号状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部状态"}),e.jsx("option",{children:"启用"}),e.jsx("option",{children:"停用"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"创建时间"}),e.jsx(Fe,{startDate:w,endDate:z,onStartDateChange:R,onEndDateChange:x})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"搜索用户名或姓名...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs(S,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[e.jsx(oe,{size:18}),"应用筛选"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"用户列表"}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:e.jsxs("span",{children:["共 ",y.length," 个用户"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"用户名"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"姓名"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"角色"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"状态"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"最后登录"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"创建时间"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(m=>{const C=q(m.status),V=C.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:m.username}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:m.fullName}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:m.roles.map(X=>{const j=O(X);return e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${j.style}`,children:j.label},X)})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${C.style}`,children:[e.jsx(V,{size:12}),C.label]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:m.lastLogin}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:m.createdAt}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>M("edit",m),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"编辑权限",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>M(m.status==="Active"?"disable":"enable",m),className:`p-1.5 rounded ${m.status==="Active"?"text-gray-600 hover:bg-gray-100":"text-green-600 hover:bg-green-50"}`,title:m.status==="Active"?"停用账号":"启用账号",children:e.jsx(Et,{size:16})}),e.jsx("button",{onClick:()=>M("reset",m),className:"p-1.5 text-orange-600 hover:bg-orange-50 rounded",title:"重置密码",children:e.jsx(Tt,{size:16})})]})})]},m.id)})})]})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["显示第 1 到 ",y.length," 条，共 ",y.length," 条记录"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:"1"})})]})]})]})}),L==="create"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"创建用户"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[Z&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:Z}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["用户名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.username,onChange:m=>d({...k,username:m.target.value}),placeholder:"输入拼音用户名，如：Zhang",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:k.fullName,onChange:m=>d({...k,fullName:m.target.value}),placeholder:"输入真实姓名",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["用户角色 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-3",children:["Collector","Reviewer","Admin"].map(m=>{const C=k.roles.includes(m),V={Collector:{label:"采集员",desc:"可进行数据采集操作"},Reviewer:{label:"标注员",desc:"可标注和管理采集的数据"},Admin:{label:"管理员",desc:"完整系统管理权限，包括用户管理、数据管理等"}};return e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${C?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:C,onChange:X=>{X.target.checked?d({...k,roles:[...k.roles,m]}):d({...k,roles:k.roles.filter(j=>j!==m)})},className:"mt-0.5 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:V[m].label}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:V[m].desc})]})]},m)})}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"ⓘ 可以为用户分配多个角色，用户可在登录后切换使用"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["初始密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:k.password,onChange:m=>d({...k,password:m.target.value}),placeholder:"留空则默认无密码",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["确认密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:k.confirmPassword,onChange:m=>d({...k,confirmPassword:m.target.value}),placeholder:"再次输入密码",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:F,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:U,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"创建用户"})]})]})}),L==="edit"&&P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"编辑用户权限"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"当前用户"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[P.fullName," (",P.username,")"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["用户角色 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-3",children:["Collector","Reviewer","Admin"].map(m=>{const C=k.roles.includes(m),V={Collector:{label:"采集员",desc:"可进行数据采集操作"},Reviewer:{label:"标注员",desc:"可标注和管理采集的数据"},Admin:{label:"管理员",desc:"完整系统管理权限，包括用户管理、数据管理等"}};return e.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${C?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:C,onChange:X=>{X.target.checked?d({...k,roles:[...k.roles,m]}):d({...k,roles:k.roles.filter(j=>j!==m)})},className:"mt-0.5 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:V[m].label}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:V[m].desc})]})]},m)})}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"ⓘ 可以为用户分配多个角色，用户可在登录后切换使用"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:"ⓘ 修改用户角色将立即生效，该用户下次登录时将具有新角色的权限。"})})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:F,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:U,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"保存修改"})]})]})}),L==="disable"&&P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"停用账号"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsx("div",{className:"p-5 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(de,{className:"text-red-600",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["确定要停用用户 ",e.jsxs("span",{className:"font-medium text-gray-900",children:[P.fullName," (",P.username,")"]})," 吗？"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"停用后，该用户将无法登录系统。您可以随时重新启用该账号。"})]})]})}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:F,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:c,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"确认停用"})]})]})}),L==="enable"&&P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"启用账号"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsx("div",{className:"p-5 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(ae,{className:"text-green-600",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["确定要启用用户 ",e.jsxs("span",{className:"font-medium text-gray-900",children:[P.fullName," (",P.username,")"]})," 吗？"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"启用后，该用户将可以正常登录并使用系统。"})]})]})}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:F,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"确认启用"})]})]})}),L==="reset"&&P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"重置密码"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"当前用户"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[P.fullName," (",P.username,")"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["新密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:k.password,onChange:m=>d({...k,password:m.target.value}),placeholder:"输入新密码，留空则设为无密码",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["确认新密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:k.confirmPassword,onChange:m=>d({...k,confirmPassword:m.target.value}),placeholder:"再次输入新密码",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-orange-800",children:"ⓘ 重置密码后将立即生效，用户需要使用新密码登录。"})})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:F,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:E,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:"确认重置"})]})]})})]})}const Ne=!1;function Fr({user:r,onLogout:t}){const{devices:a,addDevice:s,updateDevice:l,updateDeviceStatus:i,deleteDevice:n}=Wt(),[p,h]=g.useState(!0),[u,b]=g.useState(null),[f,T]=g.useState(null),[$,A]=g.useState(!1),[v,N]=g.useState(""),[w,R]=g.useState(""),[z,x]=g.useState(""),[o,_]=g.useState({category:"",subType:"",customSubTypeName:"",name:"",connectionType:"usb",connectionAddress:"",pairedConnection:null}),[L,I]=g.useState([]),[P,H]=g.useState(!1),[Z,B]=g.useState(""),k=c=>c==="in-use"?{style:"bg-yellow-100 text-yellow-700",label:"使用中",icon:He}:c==="disabled"?{style:"bg-gray-100 text-gray-500",label:"已禁用",icon:de}:{style:"bg-green-100 text-green-700",label:"空闲",icon:ae},d=(c,E)=>{if(c==="robot"){const C=Se.find(V=>V.id===E);return C?C.name:E}const m=Ae.find(C=>C.id===E);return m?m.name:E},y=(c,E)=>{if(b(c),x(""),A(!1),E){if(T(E),c==="edit"){const C=(E.category==="robot"?Se:Ae).some(V=>V.id===E.subType);_({category:E.category,subType:C?E.subType:"__new__",customSubTypeName:C?"":E.subType,name:E.name})}}else _({category:"",subType:"",customSubTypeName:"",name:"",connectionType:"usb",connectionAddress:"",pairedConnection:null}),I([]),B("")},O=()=>{b(null),T(null),A(!1),x(""),B(""),I([]),_({category:"",subType:"",customSubTypeName:"",name:"",connectionType:"usb",connectionAddress:"",pairedConnection:null})},q=()=>{f&&(n(f.id),O())},M=()=>{if(x(""),u==="create"){if(!o.category){x("请选择添加类型（机械臂或控制器）");return}const c=o.subType==="__new__"?o.customSubTypeName.trim():o.subType;if(!c){x(o.subType==="__new__"?"请输入新的类型名称":"请选择或输入类型");return}const E=o.name.trim();if(!E){x("请输入设备名称");return}if(a.some(C=>C.category===o.category&&C.subType===c&&C.name===E)){x("该类型下已存在同名设备");return}s({category:o.category,subType:c,name:E,...Ne}),O()}else if(u==="edit"&&f){const c=o.name.trim();if(!c){x("请输入设备名称");return}const E=o.subType==="__new__"?o.customSubTypeName.trim():o.subType;if(!E){x(o.subType==="__new__"?"请输入类型名称":"请选择类型");return}l(f.id,{name:c,category:o.category,subType:E}),O()}},F=()=>{if(f){const c=u==="disable"?"disabled":"available";i(f.id,c),O()}},U=c=>{var E;return((E=Ke.find(m=>m.id===c))==null?void 0:E.name)??c};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"设备管理"}),e.jsx("p",{className:"text-sm text-gray-500",children:"设备逐个添加，与数据采集选设备同步"})]}),e.jsxs(S,{onClick:()=>y("create"),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[e.jsx($s,{size:18}),"添加设备"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"设备总数"}),e.jsx(Ce,{size:16,className:"text-gray-400"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"使用中"}),e.jsx(He,{size:16,className:"text-yellow-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter(c=>c.status==="in-use").length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"空闲"}),e.jsx(ae,{size:16,className:"text-green-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(c=>c.status==="available").length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"已禁用"}),e.jsx(de,{size:16,className:"text-red-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(c=>c.status==="disabled").length})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e.jsxs("button",{onClick:()=>h(!p),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p?e.jsx(ye,{size:18}):e.jsx(pe,{size:18}),e.jsx("span",{className:"font-medium text-gray-900",children:"筛选条件"})]}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline",children:"重置条件"})]}),p&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"添加时间"}),e.jsx(Fe,{startDate:v,endDate:w,onStartDateChange:N,onEndDateChange:R})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"搜索设备名称...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs(S,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[e.jsx(oe,{size:18}),"应用筛选"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"设备列表"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["共 ",a.length," 台设备"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"子类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"设备名称"}),Ne,e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"状态"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"添加时间"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(c=>{const E=k(c.status),m=E.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:U(c.category)}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:d(c.category,c.subType)}),e.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:c.name}),Ne,e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${E.style}`,children:[e.jsx(m,{size:12}),E.label]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700",children:c.createdAt}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y("edit",c),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"编辑设备",children:e.jsx(Rt,{size:16})}),e.jsx("button",{onClick:()=>y(c.status==="disabled"?"enable":"disable",c),className:`p-1.5 rounded ${c.status==="disabled"?"text-green-600 hover:bg-green-50":"text-gray-600 hover:bg-gray-100"}`,title:c.status==="disabled"?"启用设备":"禁用设备",children:e.jsx(Et,{size:16})})]})})]},c.id)})})]})}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["显示第 1 到 ",a.length," 条，共 ",a.length," 条记录"]})})]})]})}),u==="create"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"添加设备"}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[z&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:z}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["添加什么类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o.category,onChange:c=>_({...o,category:c.target.value,subType:"",customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"请选择"}),Ke.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})]}),o.category==="robot"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["选择机械臂子类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o.subType,onChange:c=>_({...o,subType:c.target.value,customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"请选择"}),Se.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]}),o.subType==="__new__"&&e.jsx("input",{type:"text",value:o.customSubTypeName,onChange:c=>_({...o,customSubTypeName:c.target.value}),placeholder:"输入新的机械臂类型名称，如：Kinova",className:"mt-2 w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.category==="controller"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["选择控制器类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o.subType,onChange:c=>_({...o,subType:c.target.value,customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"请选择"}),Ae.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]}),o.subType==="__new__"&&e.jsx("input",{type:"text",value:o.customSubTypeName,onChange:c=>_({...o,customSubTypeName:c.target.value}),placeholder:"输入新的控制器类型名称",className:"mt-2 w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.category==="robot"&&o.subType||o.category==="controller"&&o.subType?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["设备名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.name,onChange:c=>_({...o,name:c.target.value}),placeholder:o.category==="robot"?"如：FRANKA-01、双臂系统-01":"如：GELLOW-01、手柄-01",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Ne]}):null,e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:"添加后该设备将在数据采集端对应选择中可用。"})})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:O,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:M,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"添加设备"})]})]})}),u==="edit"&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"编辑设备"}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[z&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:z}),$?e.jsx("div",{className:"py-4",children:e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["确定要删除设备 ",e.jsx("span",{className:"font-medium text-gray-900",children:f.name})," 吗？删除后无法恢复。"]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"类型"}),e.jsx("select",{value:o.category,onChange:c=>_({...o,category:c.target.value,subType:"",customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ke.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))})]}),o.category==="robot"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"机械臂子类型"}),e.jsx("select",{value:o.subType,onChange:c=>_({...o,subType:c.target.value,customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Se.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))}),o.subType==="__new__"&&e.jsx("input",{type:"text",value:o.customSubTypeName,onChange:c=>_({...o,customSubTypeName:c.target.value}),placeholder:"输入新的机械臂类型名称",className:"mt-2 w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.category==="controller"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"控制器类型"}),e.jsx("select",{value:o.subType,onChange:c=>_({...o,subType:c.target.value,customSubTypeName:""}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ae.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))}),o.subType==="__new__"&&e.jsx("input",{type:"text",value:o.customSubTypeName,onChange:c=>_({...o,customSubTypeName:c.target.value}),placeholder:"输入新的控制器类型名称",className:"mt-2 w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"设备名称"}),e.jsx("input",{type:"text",value:o.name,onChange:c=>_({...o,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Ne]})]}),e.jsx("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:$?e.jsxs(e.Fragment,{children:[e.jsx(S,{onClick:()=>A(!1),className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:q,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"确认删除"})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{onClick:O,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:M,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"保存修改"}),e.jsxs(S,{onClick:()=>A(!0),variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(hs,{size:16,className:"mr-1"}),"删除设备"]})]})})]})}),u==="disable"&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"禁用设备"}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsx("div",{className:"p-5 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(de,{className:"text-red-600",size:20})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["确定要禁用设备 ",e.jsx("span",{className:"font-medium text-gray-900",children:f.name})," 吗？"]})})]})}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:O,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:F,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"确认禁用"})]})]})}),u==="enable"&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"启用设备"}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsx("div",{className:"p-5 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(ae,{className:"text-green-600",size:20})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["确定要启用设备 ",e.jsx("span",{className:"font-medium text-gray-900",children:f.name})," 吗？"]})})]})}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:O,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:F,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"确认启用"})]})]})})]})}function Br({user:r,onLogout:t}){const[a,s]=g.useState(!0),[l,i]=g.useState(!1),[n,p]=g.useState(!1),[h,u]=g.useState(null),[b,f]=g.useState("filtered"),[T,$]=g.useState(""),[A,v]=g.useState(""),N=[{id:"1",timestamp:"2025-12-19 15:47:23",username:"Zhang",fullName:"张研究员",role:"Collector",operationType:"DataCollection",description:"提交了新的Clips数据",ipAddress:"192.168.1.105",status:"Success",details:"Session ID: SE-20251219-007，包含8条Clip数据"},{id:"2",timestamp:"2025-12-19 15:45:12",username:"Fan",fullName:"范标注员",role:"Reviewer",operationType:"DataReview",description:"标注通过了12条Clip数据",ipAddress:"192.168.1.103",status:"Success",details:"涉及Session: SE-20251219-005, SE-20251219-006"},{id:"3",timestamp:"2025-12-19 15:42:08",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"UserManagement",description:"创建了新用户账号",ipAddress:"192.168.1.100",status:"Success",details:"用户名: Chen, 姓名: 陈技术员, 角色: 采集员"},{id:"4",timestamp:"2025-12-19 15:38:45",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"DeviceManagement",description:"启用了设备 KINOVA-03",ipAddress:"192.168.1.100",status:"Success",details:"设备型号: Kinova Gen3, IP: 192.168.1.103"},{id:"5",timestamp:"2025-12-19 15:35:21",username:"Lyu",fullName:"吕采集员",role:"Collector",operationType:"DataCollection",description:"连接到设备 FRANKA-01",ipAddress:"192.168.1.106",status:"Success",details:"设备状态: 在线, 固件版本: v2.5"},{id:"6",timestamp:"2025-12-19 15:30:15",username:"Fan",fullName:"范标注员",role:"Reviewer",operationType:"DataReview",description:"标记了Clip数据为拒绝（需要重新采集）",ipAddress:"192.168.1.103",status:"Success",details:"Clip ID: CL-20251219-018, CL-20251219-019, CL-20251219-020"},{id:"7",timestamp:"2025-12-19 15:25:42",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"Export",description:"导出了数据报表",ipAddress:"192.168.1.100",status:"Success",details:"格式: PDF, 范围: 完整报表"},{id:"8",timestamp:"2025-12-19 15:20:18",username:"Zhang",fullName:"张研究员",role:"Collector",operationType:"DataCollection",description:"尝试连接设备失败",ipAddress:"192.168.1.105",status:"Failed",details:"设备: UR5-02, 错误: 连接超时"},{id:"9",timestamp:"2025-12-19 15:15:30",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"UserManagement",description:"重置了用户密码",ipAddress:"192.168.1.100",status:"Success",details:"用户: Li (李标注员)"},{id:"10",timestamp:"2025-12-19 15:10:05",username:"Fan",fullName:"范标注员",role:"Reviewer",operationType:"Login",description:"用户登录系统",ipAddress:"192.168.1.103",status:"Success",details:"登录方式: 密码认证"},{id:"11",timestamp:"2025-12-19 15:05:42",username:"Lyu",fullName:"吕采集员",role:"Collector",operationType:"DataCollection",description:"提交了新的Clips数据",ipAddress:"192.168.1.106",status:"Success",details:"Session ID: SE-20251219-006，包含15条Clip数据"},{id:"12",timestamp:"2025-12-19 15:00:28",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"SystemConfig",description:"修改了系统配置",ipAddress:"192.168.1.100",status:"Success",details:"配置项: 数据存储路径"},{id:"13",timestamp:"2025-12-19 14:55:16",username:"Zhang",fullName:"张研究员",role:"Collector",operationType:"Login",description:"用户登录系统",ipAddress:"192.168.1.105",status:"Success",details:"登录方式: 密码认证"},{id:"14",timestamp:"2025-12-19 14:50:33",username:"Wang",fullName:"王管理员",role:"Admin",operationType:"DeviceManagement",description:"添加了新设备",ipAddress:"192.168.1.100",status:"Success",details:"设备: REALSENSE-02, 型号: Intel RealSense D435i, IP: 192.168.1.204"},{id:"15",timestamp:"2025-12-19 14:45:20",username:"Fan",fullName:"范标注员",role:"Reviewer",operationType:"DataReview",description:"标注通过了8条Clip数据",ipAddress:"192.168.1.103",status:"Success",details:"涉及Session: SE-20251219-004"}],w=x=>{const o={Login:{bg:"bg-blue-100",text:"text-blue-700",icon:Tt},DataCollection:{bg:"bg-green-100",text:"text-green-700",icon:Ks},DataReview:{bg:"bg-purple-100",text:"text-purple-700",icon:ae},DeviceManagement:{bg:"bg-orange-100",text:"text-orange-700",icon:Ce},UserManagement:{bg:"bg-pink-100",text:"text-pink-700",icon:Ye},SystemConfig:{bg:"bg-gray-100",text:"text-gray-700",icon:Ce},Export:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Ge}},_={Login:"登录",DataCollection:"数据采集",DataReview:"数据标注",DeviceManagement:"设备管理",UserManagement:"用户管理",SystemConfig:"系统配置",Export:"数据导出"},L=o[x];return{bg:L.bg,text:L.text,label:_[x],icon:L.icon}},R=x=>{const o={Admin:"bg-purple-100 text-purple-700",Reviewer:"bg-blue-100 text-blue-700",Collector:"bg-green-100 text-green-700"},_={Admin:"管理员",Reviewer:"标注员",Collector:"采集员"};return{style:o[x],label:_[x]}},z=x=>x==="Success"?{style:"bg-green-100 text-green-700",label:"成功",icon:ae}:{style:"bg-red-100 text-red-700",label:"失败",icon:de};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"操作日志"}),e.jsx("p",{className:"text-sm text-gray-500",children:"记录系统所有用户操作及活动轨迹"})]}),e.jsxs(S,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[e.jsx(Ge,{size:18}),"导出日志"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"今日总操作"}),e.jsx(_s,{size:16,className:"text-gray-400"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.length}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"操作记录"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"成功操作"}),e.jsx(ae,{size:16,className:"text-green-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.filter(x=>x.status==="Success").length}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["成功率 ",Math.round(N.filter(x=>x.status==="Success").length/N.length*100),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"失败操作"}),e.jsx(de,{size:16,className:"text-red-600"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.filter(x=>x.status==="Failed").length}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"需要处理"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e.jsxs("button",{onClick:()=>s(!a),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a?e.jsx(ye,{size:18}):e.jsx(pe,{size:18}),e.jsx("span",{className:"font-medium text-gray-900",children:"筛选条件"})]}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline",children:"重置条件"})]}),a&&e.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"操作用户"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部用户"}),e.jsx("option",{children:"张研究员"}),e.jsx("option",{children:"范标注员"}),e.jsx("option",{children:"王管理员"}),e.jsx("option",{children:"吕采集员"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"用户角色"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部色"}),e.jsx("option",{children:"管理员"}),e.jsx("option",{children:"标注员"}),e.jsx("option",{children:"采集员"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"操作类型"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部类型"}),e.jsx("option",{children:"登录"}),e.jsx("option",{children:"数据采集"}),e.jsx("option",{children:"数据标注"}),e.jsx("option",{children:"设备管理"}),e.jsx("option",{children:"用户管理"}),e.jsx("option",{children:"系统配置"}),e.jsx("option",{children:"数据导出"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"操作结果"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{children:"全部状态"}),e.jsx("option",{children:"成功"}),e.jsx("option",{children:"失败"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"时间范围"}),e.jsx(Fe,{startDate:T,endDate:A,onStartDateChange:$,onEndDateChange:v})]}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"搜索操作描述、用户名或详细信息...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs(S,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[e.jsx(oe,{size:18}),"应用筛选"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"操作记录"}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:e.jsxs("span",{children:["共 ",N.length," 条记录"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作时间"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作用户"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"用户角色"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"操作描述"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600",children:"状态"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-600",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map(x=>{const o=w(x.operationType),_=R(x.role),L=z(x.status),I=o.icon,P=L.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 font-mono whitespace-nowrap",children:x.timestamp}),e.jsxs("td",{className:"px-4 py-4 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:x.fullName}),e.jsx("div",{className:"text-xs text-gray-500",children:x.username})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${_.style}`,children:_.label})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs rounded-full ${o.bg} ${o.text}`,children:[e.jsx(I,{size:12}),o.label]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-700 max-w-md",children:x.description}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${L.style}`,children:[e.jsx(P,{size:12}),L.label]})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("button",{onClick:()=>{u(x),p(!0)},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[e.jsx(Ut,{size:16}),"查看"]})})]},x.id)})})]})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["显示第 1 到 ",N.length," 条，共 ",N.length," 条记录"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded",children:"3"})]})]})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"导出操作日志"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"请选择导出范围和格式，导出的日志可用于审计和分析"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"导出范围"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportRange",checked:b==="all",onChange:()=>f("all"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"全部日志（包含历史记录）"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportRange",checked:b==="selected",onChange:()=>f("selected"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"当前页面显示的日志"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportRange",checked:b==="filtered",onChange:()=>f("filtered"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"符合筛选条件的日志"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"导出格式"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{className:"p-4 rounded-lg border-2 border-blue-500 bg-blue-50 w-48",children:[e.jsx(Re,{size:24,className:"text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:"Excel"}),e.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:".xlsx格式"})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:"ⓘ 导出的Excel文件将包含所有字段信息，便于数据分析和归档。"})})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:()=>i(!1),className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:()=>{alert(`导出${b==="all"?"全部":b==="selected"?"当前页面":"筛选条件"}日志为Excel格式`),i(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"开始导出"})]})]})}),n&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"操作详情"}),e.jsx("button",{onClick:()=>{p(!1),u(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"操作时间"}),e.jsx("div",{className:"text-sm text-gray-900 font-mono",children:h.timestamp})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"IP地址"}),e.jsx("div",{className:"text-sm text-gray-900 font-mono",children:h.ipAddress})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"操作用户"}),e.jsxs("div",{className:"text-sm text-gray-900",children:[h.fullName," (",h.username,")"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"用户角色"}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${R(h.role).style}`,children:R(h.role).label})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"操作类型"}),e.jsx("div",{children:(()=>{const x=w(h.operationType),o=x.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs rounded-full ${x.bg} ${x.text}`,children:[e.jsx(o,{size:12}),x.label]})})()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"操作状态"}),e.jsx("div",{children:(()=>{const x=z(h.status),o=x.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${x.style}`,children:[e.jsx(o,{size:12}),x.label]})})()})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"操作描述"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:h.description})})]}),h.details&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"详细信息"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.details})})]})]}),e.jsx("div",{className:"flex justify-end p-5 border-t border-gray-200",children:e.jsx(S,{onClick:()=>{p(!1),u(null)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"关闭"})})]})})]})}function Hr({user:r}){const[t,a]=g.useState("week"),[s,l]=g.useState("clip"),[i,n]=g.useState("数据仪表盘"),[p,h]=g.useState(!1),[u,b]=g.useState("filtered"),[f,T]=g.useState("pdf"),$=[{name:"周一",session:12,clip:98},{name:"周二",session:19,clip:156},{name:"周三",session:15,clip:132},{name:"周四",session:22,clip:178},{name:"周五",session:18,clip:145},{name:"周六",session:8,clip:65},{name:"周日",session:5,clip:42}],A=[{name:"第1周",session:45,clip:380},{name:"第2周",session:52,clip:425},{name:"第3周",session:48,clip:395},{name:"第4周",session:61,clip:512}],v=[{name:"1月",session:156,clip:1245},{name:"2月",session:142,clip:1187},{name:"3月",session:178,clip:1456},{name:"4月",session:165,clip:1332},{name:"5月",session:189,clip:1567},{name:"6月",session:201,clip:1689},{name:"7月",session:195,clip:1598},{name:"8月",session:210,clip:1745},{name:"9月",session:198,clip:1632},{name:"10月",session:215,clip:1798},{name:"11月",session:205,clip:1701},{name:"12月",session:198,clip:1645}],N=()=>{switch(t){case"week":return $;case"month":return A;case"year":return v;default:return $}};return e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h1",{className:"font-semibold text-gray-900",children:"数据平台仪表盘"})}),e.jsxs("nav",{className:"flex-1 p-4",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>n("数据仪表盘"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${i==="数据仪表盘"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Oe,{size:18}),e.jsx("span",{children:"数据仪表盘"})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2 px-3",children:"系统管理"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>n("账户与权限管理"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${i==="账户与权限理"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Ye,{size:18}),e.jsx("span",{children:"账户与权限管理"})]}),e.jsxs("button",{onClick:()=>n("设备管理"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${i==="设备管理"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Ce,{size:18}),e.jsx("span",{children:"设备管理"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 font-medium mb-2 px-3",children:"数据管理"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>n("数据管理"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${i==="数据管理"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Oe,{size:18}),e.jsx("span",{children:"数据管理"})]}),e.jsxs("button",{onClick:()=>n("操作日志"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors ${i==="操作日志"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(He,{size:18}),e.jsx("span",{children:"操作日志"})]})]})]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i==="数据管理"?e.jsx($r,{user:r,onLogout:()=>{}}):i==="账户与权限管理"?e.jsx(Ir,{user:r,onLogout:()=>{}}):i==="设备管理"?e.jsx(Fr,{user:r,onLogout:()=>{}}):i==="操作日志"?e.jsx(Br,{user:r,onLogout:()=>{}}):e.jsx(e.Fragment,{children:e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"数据仪表盘"}),e.jsx("p",{className:"text-sm text-gray-500",children:"平台运行状态与数据采集概况"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(S,{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[e.jsx(Re,{size:16}),"导出报表"]})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"累计采集数据"}),e.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(Oe,{size:16,className:"text-blue-600"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"12,846"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ue,{size:12,className:"text-green-600"}),e.jsx("span",{className:"text-green-600 font-medium",children:"+12.5% 上升"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"当前注册用户"}),e.jsx("div",{className:"w-8 h-8 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(Ye,{size:16,className:"text-green-600"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"16"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ue,{size:12,className:"text-green-600"}),e.jsx("span",{className:"text-green-600 font-medium",children:"+4% 昨日"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"存储空间使用"}),e.jsx("div",{className:"w-8 h-8 bg-yellow-50 rounded-lg flex items-center justify-center",children:e.jsx(Ss,{size:16,className:"text-yellow-600"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"78%"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ue,{size:12,className:"text-red-600"}),e.jsx("span",{className:"text-red-600 font-medium",children:"+5.2% 上涨"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"设备使用情况"}),e.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx(Hs,{size:16,className:"text-gray-600"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"8/10"}),e.jsx("div",{className:"text-xs text-gray-500",children:"80%设备使用中"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"数据采集趋势"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a("week"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t==="week"?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:"周"}),e.jsx("button",{onClick:()=>a("month"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t==="month"?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:"月"}),e.jsx("button",{onClick:()=>a("year"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${t==="year"?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:"年"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(ct,{width:"100%",height:"100%",children:e.jsxs(cs,{data:N(),margin:{top:5,right:10,left:-20,bottom:5},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorSession",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorClip",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(ds,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(os,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#6b7280",fontSize:12}}),e.jsx(xs,{stroke:"#9ca3af",tick:{fill:"#6b7280",fontSize:12}}),e.jsx(dt,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#111827",fontWeight:600}}),e.jsx(ms,{wrapperStyle:{paddingTop:"10px"},iconType:"line",formatter:w=>w==="session"?"Session数量":"Clip数量"}),e.jsx(ot,{type:"monotone",dataKey:"session",stroke:"#3b82f6",strokeWidth:3,fill:"url(#colorSession)",dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,fill:"#2563eb"}}),e.jsx(ot,{type:"monotone",dataKey:"clip",stroke:"#10b981",strokeWidth:3,fill:"url(#colorClip)",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,fill:"#059669"}})]})})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"数据状态分析"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>l("clip"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${s==="clip"?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:"Clip"})})]}),e.jsx("div",{className:"h-64",children:e.jsx(ct,{width:"100%",height:"100%",children:e.jsxs(zr,{children:[e.jsx(se,{data:[{name:"已分配",value:30,color:"#3b82f6"},{name:"待标注",value:45,color:"#f59e0b"},{name:"标注完成",value:85,color:"#10b981"},{name:"已禁用",value:20,color:"#6b7280"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:w,percent:R})=>`${w} ${(R*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"已分配",value:30,color:"#3b82f6"},{name:"待标注",value:45,color:"#f59e0b"},{name:"标注完成",value:85,color:"#10b981"},{name:"已禁用",value:20,color:"#6b7280"}].map((w,R)=>e.jsx(Ot,{fill:w.color},`cell-${R}`))}),e.jsx(dt,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"设备使用统计"}),e.jsx("div",{className:"overflow-y-auto max-h-80 overscroll-contain",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"设备名称"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"设备类型"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"状态"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"采集数据"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"使用率"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"FRANKA-01"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"机械臂"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"3,245 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"85%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"UR5-02"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"机械臂"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"2,876 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"72%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"GELLO-01"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操设备"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"1,128 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"45%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"3DMouse-01"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作设备"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"空闲"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"1,987 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"38%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"FRANKA-02"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"机械臂"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"2,543 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"68%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"UR5-03"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"机械臂"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"3,156 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"79%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"GELLO-02"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操设备"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"空闲"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"945 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"32%"}})})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"Camera-01"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"摄像头"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"4,782 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"92%"}})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"Camera-02"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"摄像头"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-yellow-700 bg-yellow-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"使用中"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"4,621 条"}),e.jsx("td",{className:"py-3",children:e.jsx("div",{className:"w-24 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"88%"}})})})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"用户活动统计"}),e.jsx("div",{className:"overflow-y-auto max-h-80 overscroll-contain",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"姓名"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"角色"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"状态"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"采集数据"}),e.jsx("th",{className:"text-left text-xs text-gray-500 font-medium pb-3",children:"最近活动"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"张研究员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"1,245 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"10分钟前"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"李标注员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"数据标注员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"审核 876 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"5分钟前"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"王工程师"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"离线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"987 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"昨天"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"系统管理员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"系统管理员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"系统配置"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"刚刚"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"赵技术员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"1,532 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"15分钟前"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"刘审核员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"数据审核员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"审核 654 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"20分钟前"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"陈研究员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"离线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"823 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"2小时前"})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"周工程师"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"在线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"1,098 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"30分钟前"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"吴技术员"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"遥操作操作员"}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"离线"]})}),e.jsx("td",{className:"py-3 text-sm text-gray-900",children:"765 条"}),e.jsx("td",{className:"py-3 text-sm text-gray-600",children:"昨天"})]})]})]})})]})]})]})})})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"报表导出"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Y,{size:20})})]}),e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"请选择导出报表格式，报表包含统计图表和数据分析"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"报表范围"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportReportRange",checked:u==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"完整报表（包含所有统计）"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportReportRange",checked:u==="selected",onChange:()=>b("selected"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"当前页面数据"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportReportRange",checked:u==="filtered",onChange:()=>b("filtered"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"自定义时间范围"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"导出格式"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{className:"p-4 rounded-lg border-2 border-blue-500 bg-blue-50 w-48",children:[e.jsx(Re,{size:24,className:"text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:"PDF"})]})})]})]}),e.jsxs("div",{className:"flex gap-3 p-5 border-t border-gray-200",children:[e.jsx(S,{onClick:()=>h(!1),className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",children:"取消"}),e.jsx(S,{onClick:()=>{alert(`导出${u==="all"?"完整":u==="selected"?"当前页面":"自定义"}报表为PDF格式`),h(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"开始导出"})]})]})})]})}export{Hr as default};
